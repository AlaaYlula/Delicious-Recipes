<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Recipe</title>

    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.css"
            rel="stylesheet"
    />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- MDB -->
    <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.js"
    ></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
<!--<div id="dp-container"  th:style="'background-image:url(' + ${dpurl} + ');'">-->
<div class="card bg-dark" th:each="recipe: ${recipe}">
    <img th:src="*{recipe.thumbnail_url}" class="card-img" alt="Stony Beach"/>
    <div class="card-img-overlay">
        <h5 class="card-title"><span th:text="${recipe.name}"></span></h5>
        <p class="card-text">
            <span th:text="${recipe.description}"></span>
        </p>

<!--        <h5>Instruction</h5>-->
<!--        <ul th:each="instruction: ${recipe.instructionModels}">-->
<!--&lt;!&ndash;        <p class="card-text"><span th:text="${instruction.position}"></span> <span th:text="${instruction.display_text}"></span></p>&ndash;&gt;-->

<!--            <li>-->
<!--                 <label th:text="${instruction.position}" ></label>-->
<!--                <label th:text="${instruction.display_text}" ></label>-->
<!--            </li>-->
<!--        </ul>-->

<!--        <h5>Ingredients</h5>-->
<!--        <ul th:each="ingredients: ${ingredients}">-->
<!--            &lt;!&ndash;        <p class="card-text"><span th:text="${instruction.position}"></span> <span th:text="${instruction.display_text}"></span></p>&ndash;&gt;-->
<!--                <label th:text="${ingredients.name}" ></label>-->

<!--        </ul>-->

                </div>
            </div>


<form action="/recipe/comment" method="post">
<div class="form-group">
    <label for="exampleFormControlTextarea1">Example textarea</label>
    <textarea class="form-control"  name="text" id="exampleFormControlTextarea1" rows="3"></textarea>
    <input type="hidden" name="id" th:value="${recipeId}">
    <button type="submit" class="btn btn-primary">Add</button>
</div>
</form>

<h3> comments </h3>
<ul th:each="comment: ${allComment}" >

    <label th:text="${comment.text}" ></label><br><br>
    <label th:text="${comment.userComments.username}" ></label><br><br>
    <form action="/deletecomment" method="post">
        <input type="hidden" name="rid" th:value="${recipeId}">
        <ul th:each="comment: ${allComment}">
            <input type="hidden" name="cUid" th:value="${comment.userComments.id}">
        </ul>

        <input type="hidden" name="id" th:value="${comment.id}">
        <button> Delete Comment </button>
    </form>

</ul>

<form action="/favorite" method="post">
    <input type="hidden" name="id" th:value="${recipeId}">
    <button>Add to Favorite </button> <br><br>
</form>

<!--<form action="/recipe/comment" method="post">-->
<!--    <textarea name="text" ></textarea>-->
<!--    <input type="hidden" name="id" th:value="${recipeId}">-->
<!--    <button> Add Comment </button>-->
<!--</form>-->


</body>
</html>